router.get('/transactions', verifyToken, async (req, res) => {
  const page = parseInt(req.query.page) || 1;
  const limit = parseInt(req.query.limit) || 50;
  const skip = (page - 1) * limit;

  const transactions = await Transaction.find({ userId: req.userId })
    .sort({ date: -1 })
    .skip(skip)
    .limit(limit);

  const total = await Transaction.countDocuments({ userId: req.userId });

  res.json({ transactions, total });
});
